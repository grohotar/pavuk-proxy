# Subscription Proxy Configuration

# Upstream URL (remnawave subscription-page)
UPSTREAM_URL=http://127.0.0.1:3010

# Balancer name shown in Happ
BALANCER_NAME=ðŸ‡µðŸ‡± ÐŸÐ¾Ð»ÑŒÑˆÐ°

# Grouping mode:
# - sticky: assigns each user to exactly one node inside the group (best for correct online counters + ping)
# - xray_balancer: generates a single config with multiple outbounds and routing.balancers
DEFAULT_GROUP_MODE=sticky

# Forwarded host header for upstream checks
FORWARDED_HOST=subs.pavuka.cv

# Port for subscription-proxy
APP_PORT=3020

# Probe interval for observatory (how often to check server availability)
# Recommended: 5s-10s for fast failover
PROBE_INTERVAL=10s

# Probe URL for checking server availability
PROBE_URL=https://www.google.com/generate_204

# Balancer strategy (random gives near-even distribution)
DEFAULT_BALANCER_STRATEGY=random

# Optional path to grouping rules file (JSON).
# When empty, proxy works in legacy mode and merges all configs into BALANCER_NAME.
GROUP_RULES_PATH=/app/group-rules.json
